# Configuration pytest pour le projet Projet_Python_E4S3

[tool:pytest]
# Répertoire contenant les tests
testpaths = tests

# Pattern de découverte des fichiers de tests
python_files = test_*.py

# Pattern de découverte des classes de tests
python_classes = Test*

# Pattern de découverte des fonctions de tests
python_functions = test_*

# Options par défaut pour pytest
addopts =
    # Affichage verbeux
    -v
    # Afficher la sortie print() même pour les tests réussis
    -s
    # Afficher un résumé des tests (passed, failed, skipped, etc.)
    -ra
    # Afficher les warnings
    --strict-markers
    # Couverture de code (nécessite pytest-cov)
    # --cov=src
    # --cov-report=html
    # --cov-report=term-missing

# Markers personnalisés
markers =
    slow: Tests lents qui peuvent être désélectionnés
    integration: Tests d'intégration (nécessitent la base de données)
    unit: Tests unitaires (isolés, rapides)

# Chemins à ignorer
norecursedirs =
    .git
    .tox
    dist
    build
    *.egg
    __pycache__
    data
    .venv
    venv

# Timeout pour les tests (nécessite pytest-timeout)
# timeout = 300

# Configuration de la couverture de code
[coverage:run]
source = src
omit =
    */tests/*
    */venv/*
    */__pycache__/*
    */site-packages/*

[coverage:report]
# Seuil minimum de couverture (optionnel)
# fail_under = 80
exclude_lines =
    # Ignore les lignes de pragma
    pragma: no cover
    # Ignore les définitions de méthodes abstraites
    def __repr__
    # Ignore les conditions if __name__ == "__main__"
    if __name__ == .__main__.:
    # Ignore les imports conditionnels
    if TYPE_CHECKING:
    # Ignore les raise NotImplementedError
    raise NotImplementedError
